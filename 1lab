# 1. Создание пользователей
## 1.1.  Создать 3 новых пользвателя (user1, user2, user3). Создать для них домашнии директории и установить shell-оболочку по умолчанию (/bin/sh)
`sudo useradd user1`
`sudo useradd user2`
`sudo useradd user3`
## 1.2. Проверить, что пользователи и домашние директории были созданы. Проверить группы, которым принадлежат пользователи.
`cat /etc/passwd`
`user1:x:1001:1001::/home/user1:/bin/sh`
`user2:x:1002:1002::/home/user2:/bin/sh`
`user3:x:1003:1003::/home/user3:/bin/sh`
id пользователя и id группы
`cat /etc/group`
`user1:x:1001:`
`user2:x:1002:`
`user3:x:1003:`
## 1.3.Просмотреть файл /etc/shadow, объяснить его структуру.
`sudo cat /etc/shadow`
`user1:!:18766:0:99999:7:::`
`user2:!:18766:0:99999:7:::`
`user3:!:18766:0:99999:7:::`
`sudo passwd user1`
pass 1
`sudo cat /etc/shadow`
`user1:$y$j9T$En9j6FMzLzoWTb4kP9Vl5.$91CFynKtQuTbRRIQR6ivcX1MyVvYm7RErzFNfCgbGX/:18766:0:99999:7:::`
`user2:!:18766:0:99999:7:::`
`user3:!:18766:0:99999:7:::`
Каждая строка состоит из 9 полей, разделенных двоеточиями:

Регистрационное имя. 
Зашифрованный пароль.
Дата последнего изменения пароля. 
Минимальное число дней между изменениями пароля. 
Максимальное число дней между изменениями пароля. 
Количество дней до истечения срока действия пароля, когда выдается предупреждение.
Количество дней по истечении срока действия пароля, когда учетная запись отключается.
Срок действия учетной записи.
Зарезервированное поле, которое в настоящее время всегда пустое.

$1$ — MD5
$2a$ — Blowfish
$2y$ — Blowfish (с коррекцией обработки 8-битных символов)
$5$ — SHA-256
$6$ — SHA-512

хеш поменялся
1.4. Создайте новую группу, которая будет включать двух из трех пользователей (user1, user2). Удалите группы тех пользователей, которых вы объединили (user1, user2).
`sudo addgroup cherry`
`sudo userdel user1`
`sudo userdel user2`
`sudo useradd user1 -g cherry`
`sudo useradd user2 -g cherry`
# 2.Разрешения
## 2.1 Авторизуйтесь под первым пользователем (user1). Создайте файл в домашней директории пользователя, проверьте разрешения по умолчанию.
`su - karpukhin`
`touch test`
`rw-r--r--`
## 2.2. Измените права таким образом, чтобы пользователь той же группы (user2) мог редактировать файл, а отдельный (user3) - не мог видеть и редактировать.
`chmod -c 660 test`
## 2.3.  Измените права на файл таким образом, чтобы владелец (user1) и отдельный пользватель (user3) могли читать и редактировать файл, а второй пользователь (user2) - нет.
`chmod -c 606 test`
## 2.4. Создайте директорию, поместите в нее несколько файлов. Повторите шаг 2.2 и 2.3 для директории и файлов внутри нее.
`chmod -R 660 folder`
Permission denied тк отменяется навигация
`chmod -R 606 folder`
Permission denied тк отменяется навигация
## 2.5. Создайте скрипт на ЯП Python с расширением *.py. Задайте ему шебанг. Попробуйте запустить скрипт самостоятельно, без вызова интерпретатора.
touch hello.py
nano hello.py
#! /usr/bin/env python3
	print('Hello world!')
python3 hello.py
chmod 760 hello.py
./hello.py
# Специальные разрешения
## 3.1  Что делает следующая команда? chmod 4762 filename
chmod 4762 file
4 - устанавливает setuid
7 - rwx
6 - rw-
2 - -w-
## 3.2  Зайдите под первым пользователем (user1) и создайте директорию (например, dir1), внутрь поместите несколько исполняемых скриптов с расщирением *.py. Для этой директории рекурсивно установите UID, GID и Sticky Bit. Дайте скриптам права на исполнение.
`mkdir python_script`
`touch first.py second.py third.py`
До: -rw-r--r--
`chmod -Rc 7755 python_scripts/`
После: -rwsr-sr-t
## 3.3  Удалите права на исполнения для всего в домашней директории.
Как изменился вывод ls -l?
Permission denied
## 3.4  Установите для созданной директории (dir1) права таким образом, чтобы пользователи из других групп могли осуществлять навигацию и читать файлы внутри.
`chmod -c o=rx python_scripts/`
`chown -c :bondarev python_scripts/ -> operation not permitted`
## 3.5 Авторизуйтесь в системе под вторым пользователем (user2) и создайте директорию {user2}_share. Установите разрешения таким образом, чтобы второй пользователь мог делиться файлами с первым (user1) и отдельным (user3).
`su - user2`
`mkdir user2_share`
`chmod 1777 user2_share`
## 3.6. Создайте файл sensetive_data от имени второго пользователя (user2) и запишите в него какую-либо текстовую информацию. Уберите разрешения для группы и всех остальных.
`touch sensetive_data`
`echo HelloWorld! >> sensetive_data`
`su - user3`
`cat sensetive_dat -> Remission denied`
vi sensetive_data -> содержимое не отображается, при попытки записать изменения permission denied
???
which vi
качаем vim и устанавливаем ему setuid и  дальше тестим
Поставить группу как у user3
`
